"use strict";var g_iScrollObj,nua=navigator.userAgent,isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(nua),isIOS=/iPhone|iPad|iPod/i.test(nua),isIphone=/iPhone/i.test(nua),isAndroid=-1<nua.indexOf("Mozilla/5.0")&&-1<nua.indexOf("Android ")&&-1<nua.indexOf("AppleWebKit")&&-1===nua.indexOf("Chrome"),isWindowsOS="Win32"==navigator.platform||"Windows"==navigator.platform,isMacOS="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform,isIE=window.ActiveXObject||"ActiveXObject"in window,isEdge=-1<nua.indexOf("Edge"),g_LastScrollTop=0,g_GetWindowWdith=function(){return 100<window.innerWidth?window.innerWidth:100<screen.availWidth?screen.availWidth:$(window).width()},g_GetWindowsHeight=function(){return 100<window.innerHeight?window.innerHeight:100<screen.availHeight?screen.availHeight:$(window).height()},g_GotoUrl=function(o){isIOS||g_ShowHideLoading(!0),-1==location.href.indexOf(o)?location.href=o:location.reload(!0)},g_OpenUrl=function(o,e){void 0!==e?window.open(o,"",e).focus():window.open("","").location.href=o},g_PageScrollTo=function(o,e,n){var i=0;try{i=parseInt(e)}catch(o){i=1e3}(i<=0||isNaN(i))&&(i=1e3),(window.opera?"CSS1Compat"==document.compatMode?$("html"):$("body"):$("html,body")).stop().animate({scrollTop:void 0===o?0:$(o).offset().top+(void 0===n?0:n)},i,"swing")},g_ShowHideLoading=function(o){o?$("#loadingDiv").css("display","flex"):$("#loadingDiv").css("display","none")},g_IframeLoadEventHandler=function(){var o=this;$("#"+o.id).get(0)&&(isIOS?g_SetIframeHeight(o.id,$($("#"+o.id).get(0).contentWindow.document.body).outerHeight()):setTimeout(function(){g_SetIframeHeight(o.id,$($("#"+o.id).get(0).contentWindow.document.body).outerHeight())},1))},g_SetIframeLoadEvent=function(o,e){var n=document.getElementById(o);n&&(e?n.addEventListener?n.addEventListener("load",g_IframeLoadEventHandler):n.onload=g_IframeLoadEventHandler:n.removeEventListener?n.removeEventListener("load",g_IframeLoadEventHandler):n.onload=null)},g_ShowHideLogin=function o(e,n){e?(isIOS&&(g_LastScrollTop=g_WindowScrollTop),$(".login-all").fadeIn(250),$("body").addClass("dialog-open"),$("#iframeLogin").get(0)&&(g_SetIframeLoadEvent("iframeLogin",!0),$("#iframeLogin").get(0).contentWindow.location.replace("/login.aspx?fid=iframeLogin")),1==n?$(".login-all .close-btn").on("click",function(){top.location.replace("/")}):$(".login-all .close-btn").on("click",function(){o()}),$(window).on("resize",["iframeLogin"],g_SetDilogPosAndSize),$(window).on("orientationchange",["iframeLogin"],g_SetDilogPosAndSize)):(g_IframeContentLoaded=!1,$(window).off("resize",g_SetDilogPosAndSize),$(window).off("orientationchange",g_SetDilogPosAndSize),g_SetIframeLoadEvent("iframeLogin",!1),$("#iframeLogin").get(0)&&$("#iframeLogin").get(0).contentWindow.location.replace("/loading.html"),$(".login-all").fadeOut(250),$("body").removeClass("dialog-open"),$(".login-all .close-btn").show(),isIOS&&$("html, body").scrollTop(g_LastScrollTop))},g_ShowHideLogin2=function o(e,n){e?(isIOS&&(g_LastScrollTop=g_WindowScrollTop),$(".login-all").fadeIn(250),$("body").addClass("dialog-open"),$("#iframeLogin").get(0)&&(g_SetIframeLoadEvent("iframeLogin",!0),$("#iframeLogin").get(0).contentWindow.location.replace("/login.aspx?mode=teacher&fid=iframeLogin")),1==n?$(".login-all .close-btn").on("click",function(){top.location.replace("/")}):$(".login-all .close-btn").on("click",function(){o()}),$(window).on("resize",["iframeLogin"],g_SetDilogPosAndSize),$(window).on("orientationchange",["iframeLogin"],g_SetDilogPosAndSize)):(g_IframeContentLoaded=!1,$(window).off("resize",g_SetDilogPosAndSize),$(window).off("orientationchange",g_SetDilogPosAndSize),g_SetIframeLoadEvent("iframeLogin",!1),$("#iframeLogin").get(0)&&$("#iframeLogin").get(0).contentWindow.location.replace("/loading.html"),$(".login-all").fadeOut(250),$("body").removeClass("dialog-open"),$(".login-all .close-btn").show(),isIOS&&$("html, body").scrollTop(g_LastScrollTop))},g_ShowHideGetPassword=function(o){o?(isIOS&&(g_LastScrollTop=g_WindowScrollTop),$(".login-all").fadeIn(250),$("body").addClass("dialog-open"),$("#iframeLogin").get(0)&&(g_SetIframeLoadEvent("iframeLogin",!0),$("#iframeLogin").get(0).contentWindow.location.replace("/getpassword.aspx?fid=iframeLogin")),$(window).on("resize",["iframeLogin"],g_SetDilogPosAndSize),$(window).on("orientationchange",["iframeLogin"],g_SetDilogPosAndSize)):(g_IframeContentLoaded=!1,$(window).off("resize",g_SetDilogPosAndSize),$(window).off("orientationchange",g_SetDilogPosAndSize),g_SetIframeLoadEvent("iframeLogin",!1),$("#iframeLogin").get(0)&&$("#iframeLogin").get(0).contentWindow.location.replace("/loading.html"),$(".login-all").fadeOut(250),$("body").removeClass("dialog-open"),isIOS&&$("html, body").scrollTop(g_LastScrollTop))},g_ShowHideFbAssociate=function(o){o?($(".login-all").show(),$("body").addClass("dialog-open"),$("#iframeLogin").css("min-height","500px"),$("#iframeLogin").attr("src","loading.html")):($("#iframeLogin").attr("src","loading.html"),$(".login-all").hide(),$("#iframeLogin").css("min-height","350px"),$("body").removeClass("dialog-open"))},g_ShowHideJoin=function(o){o?(isIOS&&(g_LastScrollTop=g_WindowScrollTop),$("body").addClass("dialog-open"),$(".join-all").fadeIn(250),$("#iframeJoinUs").get(0)&&(g_SetIframeLoadEvent("iframeJoinUs",!0),$("#iframeJoinUs").get(0).contentWindow.location.replace("/joinus.aspx?fid=iframeJoinUs&fmode=0")),$(window).on("resize",["iframeJoinUs"],g_SetDilogPosAndSize),$(window).on("orientationchange",["iframeJoinUs"],g_SetDilogPosAndSize)):(g_IframeContentLoaded=!1,$(window).off("resize",g_SetDilogPosAndSize),$(window).off("orientationchange",g_SetDilogPosAndSize),g_SetIframeLoadEvent("iframeJoinUs",!1),$("#iframeJoinUs").get(0)&&$("#iframeJoinUs").get(0).contentWindow.location.replace("/loading.html"),$(".join-all").fadeOut(250),$("body").removeClass("dialog-open"),isIOS&&$("html, body").scrollTop(g_LastScrollTop))},g_ShowHideRelogin=function(o){o?($(".relogin-all").show(500),$("body").addClass("dialog-open")):($(".relogin-all").hide(500),$("body").removeClass("dialog-open"))},g_WindowScrollTop=0,g_IframeContentLoaded=!1,g_IframeContentHeight=0,g_ShowHideFreeCourse=function(o){g_ShowHideDialog("free-all","iframeEnroll",o)},g_ShowHideDialog=function(o,e,n){0!=o.indexOf(".")&&(o="."+o),n?(g_LastScrollTop=g_WindowScrollTop,$(o).fadeIn(250),isIOS?$.lockbody():$("body").addClass("dialog-open"),g_SetIframeLoadEvent(e,!0),$(window).on("resize",[e],g_SetDilogPosAndSize),$(window).on("orientationchange",[e],g_SetDilogPosAndSize)):($("#"+e).css("height",""),g_SetIframeLoadEvent(e,g_IframeContentLoaded=!1),$(window).off("resize",g_SetDilogPosAndSize),$(window).off("orientationchange",g_SetDilogPosAndSize),isIOS?$.unlockBody():$("body").removeClass("dialog-open"),$(o).fadeOut(250),isIOS&&$("html, body").scrollTop(g_LastScrollTop))},g_HideHamburgerMenu=function(o){if(!(g_GetWindowWdith()<768)||o){var e=$(".navbar-toggle[data-toggle=collapse]")[0];"true"==e.attributes["aria-expanded"].value&&e.click()}},g_HideFreeForm=function(){g_IsFreeFormOpen&&g_ShowFreeForm()},g_SetBodyScrollByHambugerMemu=function(){"true"==$(".navbar-toggle[data-toggle=collapse]")[0].attributes["aria-expanded"].value?$("body").addClass("dialog-open"):$("body").removeClass("dialog-open")},g_SetIframeHeight=function(o,e){g_IframeContentLoaded=!0,g_IframeContentHeight=e,g_SetDilogPosAndSize([o])},g_SetDilogPosAndSize=function(o){var e,n,i;e=void 0===o[0]?o.data:o;var t=$("#"+e[0]),a=h2=g_GetWindowsHeight();try{g_IframeContentHeight=$(t.get(0).contentWindow.document.body).outerHeight()+2,$(t).css("height","")}catch(o){}var l=t.closest(".login-box");(0==l.length&&(l=t.closest(".st-tpbox")),0==l.length&&(l=t.closest(".st-lrbox")),0!=l.length?(n=l.position().top,i=t.parent().position().top,n=a<=768?20:50,h2=a-2*n-2*i,h2>g_IframeContentHeight&&(h2=g_IframeContentHeight,n=Math.floor((a-h2-i-50)/2))):(n=(l=t.closest(".st-cfbox")).offset().top,i=t.offset().top,i-=n,n=l.position().top,h2=a<480?a-2*(n=20)-i-28:a-2*n-i-24,h2>g_IframeContentHeight&&(h2=g_IframeContentHeight+2,n=Math.floor((a-h2-i-n)/2))),l.css("top",n+"px").css("margin-bottom",n+"px"),isIOS)?(t.closest(".popup-box .login-group").css("display","block").css("-webkit-overflow-scrolling","touch").css("height",h2+"px").css("overflow","auto"),$("html, body").scrollTop(0),t.css("height",g_IframeContentHeight+"px").css("overflow","auto").css("-webkit-overflow-scrolling","touch")):t.css("height",h2+"px").css("overflow","auto").css("-webkit-overflow-scrolling","touch");void 0===t.get(0).contentWindow.g_ScrollToFocusObj||isIOS||t.get(0).contentWindow.g_ScrollToFocusObj()},g_ScrollToFocusObj=function(){if(0!=$(":focus").length){var o=$(":focus")[0];o.focus();try{document.getElementById(o.id).scrollIntoView(!0)}catch(o){}}},g_CheckDateFormatEx=function(o,e){var n,i,t=o.val();if(""==o.value)return!0;if(10<t.length||t.length<8)return alert((""==e?"日期":e)+"格式錯誤..."),o.value="",o.focus(),!1;8==t.length&&(strV=t.substring(0,4)+"/"+t.substring(4,6)+"/"+t.substring(6,8),t=strV);if(/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/.test(t)){var a=t.split(RegExp.$1),l=parseInt(a[2],10),g=parseInt(a[0],10),s=parseInt(a[1],10);if(12<s||s<1)return alert((""==e?"日期":e)+"不合法..."),o.value="",o.focus(),!1;var r={1:31,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31};if(null!=r[s]&&l<=r[s]&&0!=l){1==(n=s.toString()).length&&(s="0"+n),1==(i=l.toString()).length&&(l="0"+i);var d=g.toString()+"/"+s.toString()+"/"+l.toString();return o.value=d,!0}if(s-2==0){var c=g%4==0&&(g%100!=0||g%400==0);if((c&&l<=29||!c&&l<=28)&&0!=l)return 1==(n=s.toString()).length&&(s="0"+n),1==(i=l.toString()).length&&(l="0"+i),d=g.toString()+"/"+s.toString()+"/"+l.toString(),o.value=d,!0}}else;return o.value="",alert((""==e?"日期":e)+"格式錯誤..."),o.focus(),!1},g_SetCookie=function(o,e,n){aDay=new Date,aDay.setTime(aDay.getTime()+1e3*n*60*60*24),expDay=aDay.toGMTString(),document.cookie=o+"="+escape(e)+";expires="+expDay+";path=/"},g_DelCookie=function(o){document.cookie=o+"=;expires=Mon,02-Oct-28 00:00:01 GMT"},g_GetCookie=function(o){var e=document.cookie.match(new RegExp("(^|;) ?"+o+"=([^;]*)(;|$)"));return e?unescape(e[2]):""},MM_preloadImages=function o(){var e=document;if(e.images){e.MM_p||(e.MM_p=new Array);var n,i=e.MM_p.length,t=o.arguments;for(n=0;n<t.length;n++)0!=t[n].indexOf("#")&&(e.MM_p[i]=new Image,e.MM_p[i++].src=t[n])}},g_Logout=function(){},g_FbStatus="",g_FbLogout=function(e){FB.getLoginStatus(function(o){"connected"===o.status?FB.logout(function(o){console.log("FB登出成功..."),e||top.location.reload()}):e||top.location.reload()})},g_IsFbLogin=function(){FB.getLoginStatus(function(o){"connected"===o.status?$.post("ws_sitedataprovider.asmx/FbLogin",{mpAccessToken:o.authResponse.accessToken},function(o,e,n){g_FbStatus="true"==o.firstChild.innerHTML?"login":"nologin"}).fail(function(o,e,n){g_FbStatus="nologin"}):g_FbStatus="nologin"})},g_FbLogin=function(){FB.login(function(o){"connected"===o.status?$.post("ws_sitedataprovider.asmx/FbLogin",{mpAccessToken:o.authResponse.accessToken},function(o,e,n){"true"==o.firstChild.innerHTML?(alert("登入成功..."),parent.g_ShowHideLogin(),top.location.reload()):alert("登入失敗，請重新登入...")}).fail(function(o,e,n){console.log(n.message),alert("登入失敗，請稍後再試...")}):(o.status,alert("登入授權失敗..."))},{scope:"public_profile,email"})},g_FbRegister=function(){"login"==g_FbStatus?alert("已經註冊過FB會員，目前為FB會員登入狀態..."):FB.login(function(o){"connected"===o.status?$.post("ws_sitedataprovider.asmx/FbRegister",{mpAccessToken:o.authResponse.accessToken},function(o,e,n){"1"==o.firstChild.innerHTML?(alert("FB會員註冊成功..."),top.location.assign("/profile-fb.aspx?mode=0#title")):"2"==o.firstChild.innerHTML?confirm("您已經註冊過FB會員，您要修改會員資料嗎？")?top.location.assign("/profile-fb.aspx#title"):parent.g_ShowHideJoin(!1):alert("FB會員註冊失敗...")}).fail(function(o,e,n){console.log(n.message),alert("FB會員註冊失敗...")}):(o.status,alert("登入授權失敗..."))},{scope:"public_profile,email"})},g_FbAssociate=function(){FB.getLoginStatus(function(o){"connected"===o.status?$.post("ws_sitedataprovider.asmx/FbAssociate",{mpAccessToken:o.authResponse.accessToken},function(o,e,n){var i=o.firstChild.innerHTML;-1==i.indexOf(":")?alert("FB驗證失敗..."):(i=i.split(":"),alert(i[1]),"1"!=i[0]&&"-1"!=i[0]||top.location.reload())}).fail(function(o,e,n){console.log(n.message),alert("FB驗證失敗...")}):FB.login(function(o){"connected"===o.status?$.post("ws_sitedataprovider.asmx/FbAssociate",{mpAccessToken:o.authResponse.accessToken},function(o,e,n){var i=o.firstChild.innerHTML;-1==i.indexOf(":")?alert("FB驗證失敗..."):(i=i.split(":"),alert(i[1]),"1"!=i[0]&&"-1"!=i[0]||top.location.reload())}).fail(function(o,e,n){console.log(n.message),alert("FB驗證失敗...")}):(o.status,alert("登入授權失敗..."))},{scope:"public_profile,email"})})};$(document).ready(function(){g_ShowHideLoading(!1);try{$("img[usemap]").rwdImageMaps()}catch(o){}try{$(".navbar-toggle").on("click",g_HideFreeForm),$(".dropdown-toggle").on("click",function(){g_HideHamburgerMenu(),g_HideFreeForm()})}catch(o){}}),$(window).scroll(function(){g_WindowScrollTop=$(this).scrollTop(),1024<$(this).scrollTop()?$(".gotop").show():$(".gotop").hide()});
"use strict";$(function(){$(".dropdown-base").on("mouseenter click",function(){768<g_GetWindowWdith()&&(isMobile&&!isIOS&&($(".dropdown-base").removeClass("open"),$(".dropdown-menu").css("display","none")),$(this).hasClass("open")||($(".dropdown-toggle",$(this)).dropdown(),$(this).addClass("open"),isMobile&&!isIOS&&$(".dropdown-menu",$(this)).css("display","block")))}).mouseleave(function(){768<g_GetWindowWdith()&&($(this).blur().removeClass("open"),isMobile&&!isIOS&&($(".dropdown-base").removeClass("open"),$(".dropdown-menu").css("display","none")))}),$("#loginBtn").bind("click",function(){g_ShowHideLogin(!0)}),$("#joinBtn").bind("click",function(){g_ShowHideJoin(!0)});var o=function(){var o=g_GetWindowWdith();o<=361?$(".logo").attr("src","build/images/logo1_s.png"):$(".logo").attr("src","build/images/logo1.png"),o<921?$(".dropdown-menu[aria-labelledby=lmenu05]").addClass("dropdown-menu-right"):$(".dropdown-menu[aria-labelledby=lmenu05]").removeClass("dropdown-menu-right")};o(),$(window).bind("load",o),$(window).bind("resize",o),$(window).bind("orientationchange",o)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJuYXYuanMiXSwibmFtZXMiOlsiJCIsIm51YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzTW9iaWxlIiwidGVzdCIsImlzSU9TIiwiaW5kZXhPZiIsImlzSXBob25lIiwicGxhdGZvcm0iLCJpc0FuZHJvaWQiLCJpc1dpbmRvd3NPUyIsImlzTWFjT1MiLCJpc0lFIiwiQWN0aXZlWE9iamVjdCIsImlzRWRnZSIsImdfTGFzdFNjcm9sbFRvcCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJzY3JlZW4iLCJhdmFpbFdpZHRoIiwid2lkdGgiLCJnX0dldFdpbmRvd3NIZWlnaHQiLCJpbm5lckhlaWdodCIsImF2YWlsSGVpZ2h0IiwiaGVpZ2h0IiwiZ19Hb3RvVXJsIiwiZ19TaG93SGlkZUxvYWRpbmciLCJocmVmIiwibG9jYXRpb24iLCJnX09wZW5VcmwiLCJ1cmwiLCJmZWF0dXJlcyIsIm9wZW4iLCJmb2N1cyIsImdfUGFnZVNjcm9sbFRvIiwib2JqIiwibXMiLCJoMSIsInRpbWUiLCJwYXJzZUludCIsImUiLCJpc05hTiIsIm9wZXJhIiwiZG9jdW1lbnQiLCJjb21wYXRNb2RlIiwiYW5pbWF0ZSIsIiRib2R5Iiwib2Zmc2V0IiwidG9wIiwic2hvdyIsImNzcyIsImdfSWZyYW1lTG9hZEV2ZW50SGFuZGxlciIsInRoaXMiLCJnX1NldElmcmFtZUhlaWdodCIsInRoYXQiLCJpZCIsImdldCIsImNvbnRlbnRXaW5kb3ciLCJib2R5Iiwib3V0ZXJIZWlnaHQiLCJzZXRUaW1lb3V0IiwiZ19TZXRJZnJhbWVMb2FkRXZlbnQiLCJnZXRFbGVtZW50QnlJZCIsImlmcmFtZSIsIm1vZGUiLCJhZGRFdmVudExpc3RlbmVyIiwib25sb2FkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdfU2hvd0hpZGVMb2dpbiIsIm5vY2xvc2UiLCJnX1dpbmRvd1Njcm9sbFRvcCIsImFkZENsYXNzIiwicmVwbGFjZSIsIm9uIiwiZ19TZXREaWxvZ1Bvc0FuZFNpemUiLCJvZmYiLCJmYWRlT3V0IiwicmVtb3ZlQ2xhc3MiLCJzY3JvbGxUb3AiLCJnX1Nob3dIaWRlTG9naW4yIiwiZ19TaG93SGlkZUdldFBhc3N3b3JkIiwiZ19TaG93SGlkZUZiQXNzb2NpYXRlIiwiYXR0ciIsImhpZGUiLCJnX1Nob3dIaWRlSm9pbiIsImZhZGVJbiIsImdfU2hvd0hpZGVSZWxvZ2luIiwiZ19JZnJhbWVDb250ZW50TG9hZGVkIiwiZ19JZnJhbWVDb250ZW50SGVpZ2h0IiwiZ19TaG93SGlkZUZyZWVDb3Vyc2UiLCJnX1Nob3dIaWRlRGlhbG9nIiwiY2xhc3NuYW1lIiwibG9ja2JvZHkiLCJmaWQiLCJ1bmxvY2tCb2R5IiwiZ19IaWRlSGFtYnVyZ2VyTWVudSIsImlzU3R1TWVudSIsImdfR2V0V2luZG93V2RpdGgiLCJnX0hpZGVGcmVlRm9ybSIsImdfU2hvd0ZyZWVGb3JtIiwiZ19Jc0ZyZWVGb3JtT3BlbiIsImdfU2V0Qm9keVNjcm9sbEJ5SGFtYnVnZXJNZW11IiwiYnRuIiwidmFsdWUiLCJ2YWwiLCJ0b3AxIiwidG9wMiIsImRhdGEiLCJmcmFtZSIsImJveCIsImNsb3Nlc3QiLCJsZW5ndGgiLCJwb3NpdGlvbiIsInBhcmVudCIsImgyIiwiTWF0aCIsImZsb29yIiwiZ19TY3JvbGxUb0ZvY3VzT2JqIiwiZ19DaGVja0RhdGVGb3JtYXRFeCIsIm0iLCJzY3JvbGxJbnRvVmlldyIsInN0clZhbHVlIiwiYWxlcnQiLCJkIiwiZml4bXNnIiwiYURheSIsInNldFRpbWUiLCJzdHJWIiwib2JqUmVnRXhwIiwic3Vic3RyaW5nIiwiaW50RGF5IiwiaW50WWVhciIsImludE1vbnRoIiwiJDEiLCJhcnJheURhdGUiLCJhcnJheUxvb2t1cCIsIjEiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiMTEiLCJzdHJPayIsInRvU3RyaW5nIiwiYm9vTGVhcFllYXIiLCJnX1NldENvb2tpZSIsImNvb2tpZSIsImNrTmFtZSIsImVzY2FwZSIsIkRhdGUiLCJnX0RlbENvb2tpZSIsImdldFRpbWUiLCJleHBEYXkiLCJyZXN1bHRzIiwidW5lc2NhcGUiLCJnX0dldENvb2tpZSIsIm1hdGNoIiwiUmVnRXhwIiwiTU1fcHJlbG9hZEltYWdlcyIsImEiLCJhcmd1bWVudHMiLCJNTV9wIiwiQXJyYXkiLCJJbWFnZSIsImkiLCJqIiwic3JjIiwiZ19Mb2dvdXQiLCJnX0ZiU3RhdHVzIiwibm90cmVsb2FkIiwiRkIiLCJnZXRMb2dpblN0YXR1cyIsInJlc3BvbnNlIiwic3RhdHVzIiwibG9nb3V0IiwibG9nIiwiY29uc29sZSIsInJlbG9hZCIsImdfSXNGYkxvZ2luIiwibXBBY2Nlc3NUb2tlbiIsImF1dGhSZXNwb25zZSIsImFjY2Vzc1Rva2VuIiwidGV4dFN0YXR1cyIsImpxWEhSIiwiZmlyc3RDaGlsZCIsImlubmVySFRNTCIsImZhaWwiLCJlcnJvclRocm93biIsImdfRmJMb2dpbiIsImxvZ2luIiwicG9zdCIsIm1lc3NhZ2UiLCJzY29wZSIsImFzc2lnbiIsImNvbmZpcm0iLCJnX0ZiQXNzb2NpYXRlIiwicmVzdWx0Iiwic3BsaXQiLCJyd2RJbWFnZU1hcHMiLCJzY3JvbGwiLCJ3MSIsImhhc0NsYXNzIiwiZHJvcGRvd24iLCJtb3VzZWxlYXZlIiwiYmx1ciIsImJpbmQiLCJpbml0TG9nbyJdLCJtYXBwaW5ncyI6ImFBQUEsSUFpbkJRQSxhQWpuQkpDLElBQU1DLFVBQVVDLFVBQ2hCQyxTQUFXLGlFQUFpRUMsS0FBS0osS0FEakZBLE1BQU1DLG9CQUFWRyxLQUFBSixLQUNJRyxTQUFXLFVBQUFDLEtBQUFKLEtBQ1hLLFdBQUosRUFBWUwsSUFBQU0sUUFBQSxpQkFBWixFQUFBTixJQUFBTSxRQUFBLGNBQUEsRUFBQU4sSUFBQU0sUUFBQSxpQkFBQSxJQUFBTixJQUFBTSxRQUFBLFVBQ0lDLFlBQUosU0FBZU4sVUFBQU8sVUFBZixXQUFBUCxVQUFBTyxTQUNJQyxRQUF5QixVQUF6QkEsVUFBaUJILFVBQStCLFVBQUFOLFVBQUlNLFVBQTRCLGFBQUlBLFVBQVFFLFVBQWhHLFlBQTJIRixVQUFRRSxTQUMv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bmF2aWdhdG9yLnVzZXJBZ2VudDtcclxudmFyIGlzTW9iaWxlID0gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG51YSk7XHJcbnZhciBpc0lPUyA9IC9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChudWEpO1xyXG52YXIgaXNJcGhvbmUgPSAvaVBob25lL2kudGVzdChudWEpO1xyXG52YXIgaXNBbmRyb2lkID0gKG51YS5pbmRleE9mKCdNb3ppbGxhLzUuMCcpID4gLTEgJiYgbnVhLmluZGV4T2YoJ0FuZHJvaWQgJykgPiAtMSAmJiBudWEuaW5kZXhPZignQXBwbGVXZWJLaXQnKSA+IC0xICYmIG51YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEpO1xyXG52YXIgaXNXaW5kb3dzT1MgPSAobmF2aWdhdG9yLnBsYXRmb3JtID09IFwiV2luMzJcIikgfHwgKG5hdmlnYXRvci5wbGF0Zm9ybSA9PSBcIldpbmRvd3NcIik7XHJcbnZhciBpc01hY09TID0gKG5hdmlnYXRvci5wbGF0Zm9ybSA9PSBcIk1hYzY4S1wiKSB8fCAobmF2aWdhdG9yLnBsYXRmb3JtID09IFwiTWFjUFBDXCIpIHx8IChuYXZpZ2F0b3IucGxhdGZvcm0gPT0gXCJNYWNpbnRvc2hcIikgfHwgKG5hdmlnYXRvci5wbGF0Zm9ybSA9PSBcIk1hY0ludGVsXCIpO1xyXG52YXIgaXNJRSA9IHdpbmRvdy5BY3RpdmVYT2JqZWN0IHx8IFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvd1xyXG52YXIgaXNFZGdlID0gbnVhLmluZGV4T2YoXCJFZGdlXCIpID4gLTE7XHJcbnZhciBnX0xhc3RTY3JvbGxUb3AgPSAwO1xyXG52YXIgZ19HZXRXaW5kb3dXZGl0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+IDEwMCA/IHdpbmRvdy5pbm5lcldpZHRoIDogc2NyZWVuLmF2YWlsV2lkdGggPiAxMDAgPyBzY3JlZW4uYXZhaWxXaWR0aCA6ICQod2luZG93KS53aWR0aCgpO1xyXG59O1xyXG52YXIgZ19HZXRXaW5kb3dzSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCA+IDEwMCA/IHdpbmRvdy5pbm5lckhlaWdodCA6IHNjcmVlbi5hdmFpbEhlaWdodCA+IDEwMCA/IHNjcmVlbi5hdmFpbEhlaWdodCA6ICQod2luZG93KS5oZWlnaHQoKTtcclxufTtcclxudmFyIGdfR290b1VybCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgIGlmICghaXNJT1MpIGdfU2hvd0hpZGVMb2FkaW5nKHRydWUpO1xyXG4gICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZih1cmwpID09IC0xKSB7XHJcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgIH0gZWxzZSBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbn07XHJcbnZhciBnX09wZW5VcmwgPSBmdW5jdGlvbiAodXJsLCBmZWF0dXJlcykge1xyXG4gICAgdmFyIHdpZDtcclxuICAgIGlmICh0eXBlb2YgKGZlYXR1cmVzKSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgd2lkID0gd2luZG93Lm9wZW4odXJsLCBcIlwiLCBmZWF0dXJlcyk7XHJcbiAgICAgICAgd2lkLmZvY3VzKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpZCA9IHdpbmRvdy5vcGVuKFwiXCIsIFwiXCIpO1xyXG4gICAgICAgIHdpZC5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgfVxyXG59O1xyXG52YXIgZ19QYWdlU2Nyb2xsVG8gPSBmdW5jdGlvbiAob2JqLCBtcywgaDEpIHtcclxuICAgIHZhciB0aW1lID0gMDtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdGltZSA9IHBhcnNlSW50KG1zKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICB0aW1lID0gMTAwMDtcclxuICAgIH1cclxuICAgIGlmICh0aW1lIDw9IDAgfHwgaXNOYU4odGltZSkpIHRpbWUgPSAxMDAwO1xyXG4gICAgdmFyICRib2R5ID0gKHdpbmRvdy5vcGVyYSkgPyAoZG9jdW1lbnQuY29tcGF0TW9kZSA9PSBcIkNTUzFDb21wYXRcIiA/ICQoJ2h0bWwnKSA6ICQoJ2JvZHknKSkgOiAkKCdodG1sLGJvZHknKTtcclxuICAgICRib2R5LnN0b3AoKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgJ3Njcm9sbFRvcCc6ICh0eXBlb2YgKG9iaikgPT09ICd1bmRlZmluZWQnID8gMCA6ICQob2JqKS5vZmZzZXQoKS50b3AgKyAodHlwZW9mIChoMSkgPT09ICd1bmRlZmluZWQnID8gMCA6IGgxKSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRpbWUsICdzd2luZycpO1xyXG59O1xyXG5cclxuXHJcbnZhciBnX1Nob3dIaWRlTG9hZGluZyA9IGZ1bmN0aW9uIChzaG93KSB7XHJcbiAgICBpZiAoc2hvdykgJCgnI2xvYWRpbmdEaXYnKS5jc3MoXCJkaXNwbGF5XCIsIFwiZmxleFwiKTtcclxuICAgIGVsc2UgJCgnI2xvYWRpbmdEaXYnKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxufTtcclxudmFyIGdfSWZyYW1lTG9hZEV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgIGlmICgkKCcjJyArIHRoYXQuaWQpLmdldCgwKSkge1xyXG4gICAgICAgIGlmIChpc0lPUylcclxuICAgICAgICAgICAgZ19TZXRJZnJhbWVIZWlnaHQodGhhdC5pZCwgJCgkKCcjJyArIHRoYXQuaWQpLmdldCgwKS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkpLm91dGVySGVpZ2h0KCkpO1xyXG4gICAgICAgIGVsc2Ugc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGdfU2V0SWZyYW1lSGVpZ2h0KHRoYXQuaWQsICQoJCgnIycgKyB0aGF0LmlkKS5nZXQoMCkuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5KS5vdXRlckhlaWdodCgpKTsgfSwgMSk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBnX1NldElmcmFtZUxvYWRFdmVudCA9IGZ1bmN0aW9uIChpZCwgbW9kZSkge1xyXG4gICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgIGlmIChpZnJhbWUpIHtcclxuICAgICAgICBpZiAobW9kZSkge1xyXG4gICAgICAgICAgICBpZiAoaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBnX0lmcmFtZUxvYWRFdmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgLy9pZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBnX0lmcmFtZUxvYWRFdmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWZyYW1lLm9ubG9hZCA9IGdfSWZyYW1lTG9hZEV2ZW50SGFuZGxlcjtcclxuICAgICAgICAgICAgICAgIC8vaWZyYW1lLm9ucmVzaXplID0gZ19JZnJhbWVMb2FkRXZlbnRIYW5kbGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGlmcmFtZS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZnJhbWUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZ19JZnJhbWVMb2FkRXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIC8vaWZyYW1lLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZ19JZnJhbWVMb2FkRXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmcmFtZS5vbmxvYWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgLy9pZnJhbWUub25yZXNpemUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciBnX1Nob3dIaWRlTG9naW4gPSBmdW5jdGlvbiAoc2hvdywgbm9jbG9zZSkge1xyXG4gICAgaWYgKHNob3cpIHtcclxuICAgICAgICBpZiAoaXNJT1MpIGdfTGFzdFNjcm9sbFRvcCA9IGdfV2luZG93U2Nyb2xsVG9wO1xyXG4gICAgICAgICQoXCIubG9naW4tYWxsXCIpLmZhZGVJbigyNTApO1xyXG4gICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwiZGlhbG9nLW9wZW5cIik7XHJcbiAgICAgICAgaWYgKCQoJyNpZnJhbWVMb2dpbicpLmdldCgwKSkge1xyXG4gICAgICAgICAgICBnX1NldElmcmFtZUxvYWRFdmVudChcImlmcmFtZUxvZ2luXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAkKCcjaWZyYW1lTG9naW4nKS5nZXQoMCkuY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKFwiL2xvZ2luLmFzcHg/ZmlkPWlmcmFtZUxvZ2luXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2lmIChub2Nsb3NlID09IHRydWUpICQoXCIubG9naW4tYWxsIC5jbG9zZS1idG5cIikuaGlkZSgpO1xyXG4gICAgICAgIC8vZWxzZSAkKFwiLmxvZ2luLWFsbCAuY2xvc2UtYnRuXCIpLnNob3coKTtcclxuICAgICAgICBpZiAobm9jbG9zZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2dpbi1hbGwgLmNsb3NlLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRvcC5sb2NhdGlvbi5yZXBsYWNlKFwiL1wiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLmxvZ2luLWFsbCAuY2xvc2UtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZ19TaG93SGlkZUxvZ2luKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBbXCJpZnJhbWVMb2dpblwiXSwgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgICQod2luZG93KS5vbignb3JpZW50YXRpb25jaGFuZ2UnLCBbXCJpZnJhbWVMb2dpblwiXSwgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgIC8vaWYgKGlzSU9TKSAkKHdpbmRvdykub24oJ3Njcm9sbCcsIFtcImlmcmFtZUxvZ2luXCJdLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGdfSWZyYW1lQ29udGVudExvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZScsIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgICAgICAkKHdpbmRvdykub2ZmKCdvcmllbnRhdGlvbmNoYW5nZScsIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgICAgICBnX1NldElmcmFtZUxvYWRFdmVudChcImlmcmFtZUxvZ2luXCIsIGZhbHNlKTtcclxuICAgICAgICBpZiAoJCgnI2lmcmFtZUxvZ2luJykuZ2V0KDApKSAkKCcjaWZyYW1lTG9naW4nKS5nZXQoMCkuY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKFwiL2xvYWRpbmcuaHRtbFwiKTtcclxuICAgICAgICAkKFwiLmxvZ2luLWFsbFwiKS5mYWRlT3V0KDI1MCk7XHJcbiAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJkaWFsb2ctb3BlblwiKTtcclxuICAgICAgICAkKFwiLmxvZ2luLWFsbCAuY2xvc2UtYnRuXCIpLnNob3coKTtcclxuICAgICAgICBpZiAoaXNJT1MpIHtcclxuICAgICAgICAgICAgLy8kKHdpbmRvdykub2ZmKCdzY3JvbGwnLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5zY3JvbGxUb3AoZ19MYXN0U2Nyb2xsVG9wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG52YXIgZ19TaG93SGlkZUxvZ2luMiA9IGZ1bmN0aW9uIChzaG93LCBub2Nsb3NlKSB7XHJcbiAgICBpZiAoc2hvdykge1xyXG4gICAgICAgIGlmIChpc0lPUykgZ19MYXN0U2Nyb2xsVG9wID0gZ19XaW5kb3dTY3JvbGxUb3A7XHJcbiAgICAgICAgJChcIi5sb2dpbi1hbGxcIikuZmFkZUluKDI1MCk7XHJcbiAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJkaWFsb2ctb3BlblwiKTtcclxuICAgICAgICBpZiAoJCgnI2lmcmFtZUxvZ2luJykuZ2V0KDApKSB7XHJcbiAgICAgICAgICAgIGdfU2V0SWZyYW1lTG9hZEV2ZW50KFwiaWZyYW1lTG9naW5cIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICQoJyNpZnJhbWVMb2dpbicpLmdldCgwKS5jb250ZW50V2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIvbG9naW4uYXNweD9tb2RlPXRlYWNoZXImZmlkPWlmcmFtZUxvZ2luXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2lmIChub2Nsb3NlID09IHRydWUpICQoXCIubG9naW4tYWxsIC5jbG9zZS1idG5cIikuaGlkZSgpO1xyXG4gICAgICAgIC8vZWxzZSAkKFwiLmxvZ2luLWFsbCAuY2xvc2UtYnRuXCIpLnNob3coKTtcclxuICAgICAgICBpZiAobm9jbG9zZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2dpbi1hbGwgLmNsb3NlLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRvcC5sb2NhdGlvbi5yZXBsYWNlKFwiL1wiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLmxvZ2luLWFsbCAuY2xvc2UtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZ19TaG93SGlkZUxvZ2luMigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplJywgW1wiaWZyYW1lTG9naW5cIl0sIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgICAgICAkKHdpbmRvdykub24oJ29yaWVudGF0aW9uY2hhbmdlJywgW1wiaWZyYW1lTG9naW5cIl0sIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgICAgICAvL2lmIChpc0lPUykgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBbXCJpZnJhbWVMb2dpblwiXSwgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBnX0lmcmFtZUNvbnRlbnRMb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUnLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZignb3JpZW50YXRpb25jaGFuZ2UnLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICAgICAgZ19TZXRJZnJhbWVMb2FkRXZlbnQoXCJpZnJhbWVMb2dpblwiLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKCQoJyNpZnJhbWVMb2dpbicpLmdldCgwKSkgJCgnI2lmcmFtZUxvZ2luJykuZ2V0KDApLmNvbnRlbnRXaW5kb3cubG9jYXRpb24ucmVwbGFjZShcIi9sb2FkaW5nLmh0bWxcIik7XHJcbiAgICAgICAgJChcIi5sb2dpbi1hbGxcIikuZmFkZU91dCgyNTApO1xyXG4gICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiZGlhbG9nLW9wZW5cIik7XHJcbiAgICAgICAgJChcIi5sb2dpbi1hbGwgLmNsb3NlLWJ0blwiKS5zaG93KCk7XHJcbiAgICAgICAgaWYgKGlzSU9TKSB7XHJcbiAgICAgICAgICAgIC8vJCh3aW5kb3cpLm9mZignc2Nyb2xsJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgICAgICAkKCdodG1sLCBib2R5Jykuc2Nyb2xsVG9wKGdfTGFzdFNjcm9sbFRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxudmFyIGdfU2hvd0hpZGVHZXRQYXNzd29yZCA9IGZ1bmN0aW9uIChzaG93KSB7XHJcbiAgICBpZiAoc2hvdykge1xyXG4gICAgICAgIGlmIChpc0lPUykgZ19MYXN0U2Nyb2xsVG9wID0gZ19XaW5kb3dTY3JvbGxUb3A7XHJcbiAgICAgICAgJChcIi5sb2dpbi1hbGxcIikuZmFkZUluKDI1MCk7XHJcbiAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJkaWFsb2ctb3BlblwiKTtcclxuICAgICAgICBpZiAoJCgnI2lmcmFtZUxvZ2luJykuZ2V0KDApKSB7XHJcbiAgICAgICAgICAgIGdfU2V0SWZyYW1lTG9hZEV2ZW50KFwiaWZyYW1lTG9naW5cIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICQoJyNpZnJhbWVMb2dpbicpLmdldCgwKS5jb250ZW50V2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIvZ2V0cGFzc3dvcmQuYXNweD9maWQ9aWZyYW1lTG9naW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplJywgW1wiaWZyYW1lTG9naW5cIl0sIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgICAgICAkKHdpbmRvdykub24oJ29yaWVudGF0aW9uY2hhbmdlJywgW1wiaWZyYW1lTG9naW5cIl0sIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgICAgICAvL2lmIChpc0lPUykgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBbXCJpZnJhbWVMb2dpblwiXSwgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBnX0lmcmFtZUNvbnRlbnRMb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUnLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZignb3JpZW50YXRpb25jaGFuZ2UnLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICAgICAgZ19TZXRJZnJhbWVMb2FkRXZlbnQoXCJpZnJhbWVMb2dpblwiLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKCQoJyNpZnJhbWVMb2dpbicpLmdldCgwKSkgJCgnI2lmcmFtZUxvZ2luJykuZ2V0KDApLmNvbnRlbnRXaW5kb3cubG9jYXRpb24ucmVwbGFjZShcIi9sb2FkaW5nLmh0bWxcIik7XHJcbiAgICAgICAgJChcIi5sb2dpbi1hbGxcIikuZmFkZU91dCgyNTApO1xyXG4gICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiZGlhbG9nLW9wZW5cIik7XHJcbiAgICAgICAgaWYgKGlzSU9TKSB7XHJcbiAgICAgICAgICAgIC8vJCh3aW5kb3cpLm9mZignc2Nyb2xsJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgICAgICAkKCdodG1sLCBib2R5Jykuc2Nyb2xsVG9wKGdfTGFzdFNjcm9sbFRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxudmFyIGdfU2hvd0hpZGVGYkFzc29jaWF0ZSA9IGZ1bmN0aW9uIChzaG93KSB7XHJcbiAgICBpZiAoc2hvdykge1xyXG4gICAgICAgICQoXCIubG9naW4tYWxsXCIpLnNob3coKTtcclxuICAgICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImRpYWxvZy1vcGVuXCIpO1xyXG4gICAgICAgICQoXCIjaWZyYW1lTG9naW5cIikuY3NzKFwibWluLWhlaWdodFwiLCBcIjUwMHB4XCIpO1xyXG4gICAgICAgICQoXCIjaWZyYW1lTG9naW5cIikuYXR0cihcInNyY1wiLCBcImxvYWRpbmcuaHRtbFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiNpZnJhbWVMb2dpblwiKS5hdHRyKFwic3JjXCIsIFwibG9hZGluZy5odG1sXCIpO1xyXG4gICAgICAgICQoXCIubG9naW4tYWxsXCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiI2lmcmFtZUxvZ2luXCIpLmNzcyhcIm1pbi1oZWlnaHRcIiwgXCIzNTBweFwiKTtcclxuICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImRpYWxvZy1vcGVuXCIpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgZ19TaG93SGlkZUpvaW4gPSBmdW5jdGlvbiAoc2hvdykge1xyXG4gICAgaWYgKHNob3cpIHtcclxuICAgICAgICBpZiAoaXNJT1MpIGdfTGFzdFNjcm9sbFRvcCA9IGdfV2luZG93U2Nyb2xsVG9wO1xyXG4gICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwiZGlhbG9nLW9wZW5cIik7XHJcbiAgICAgICAgJChcIi5qb2luLWFsbFwiKS5mYWRlSW4oMjUwKTtcclxuICAgICAgICBpZiAoJCgnI2lmcmFtZUpvaW5VcycpLmdldCgwKSkge1xyXG4gICAgICAgICAgICBnX1NldElmcmFtZUxvYWRFdmVudChcImlmcmFtZUpvaW5Vc1wiLCB0cnVlKTtcclxuICAgICAgICAgICAgJCgnI2lmcmFtZUpvaW5VcycpLmdldCgwKS5jb250ZW50V2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIvam9pbnVzLmFzcHg/ZmlkPWlmcmFtZUpvaW5VcyZmbW9kZT0wXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIFtcImlmcmFtZUpvaW5Vc1wiXSwgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgICQod2luZG93KS5vbignb3JpZW50YXRpb25jaGFuZ2UnLCBbXCJpZnJhbWVKb2luVXNcIl0sIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgICAgICAvL2lmIChpc0lPUykgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBbXCJpZnJhbWVKb2luVXNcIl0sIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZ19JZnJhbWVDb250ZW50TG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgICQod2luZG93KS5vZmYoJ29yaWVudGF0aW9uY2hhbmdlJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgIGdfU2V0SWZyYW1lTG9hZEV2ZW50KFwiaWZyYW1lSm9pblVzXCIsIGZhbHNlKTtcclxuICAgICAgICBpZiAoJCgnI2lmcmFtZUpvaW5VcycpLmdldCgwKSkgJCgnI2lmcmFtZUpvaW5VcycpLmdldCgwKS5jb250ZW50V2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIvbG9hZGluZy5odG1sXCIpO1xyXG4gICAgICAgICQoXCIuam9pbi1hbGxcIikuZmFkZU91dCgyNTApO1xyXG4gICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiZGlhbG9nLW9wZW5cIik7XHJcbiAgICAgICAgaWYgKGlzSU9TKSB7XHJcbiAgICAgICAgICAgIC8vJCh3aW5kb3cpLm9mZignc2Nyb2xsJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgICAgICAkKCdodG1sLCBib2R5Jykuc2Nyb2xsVG9wKGdfTGFzdFNjcm9sbFRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG52YXIgZ19TaG93SGlkZVJlbG9naW4gPSBmdW5jdGlvbiAoc2hvdykge1xyXG4gICAgaWYgKHNob3cpIHtcclxuICAgICAgICAkKFwiLnJlbG9naW4tYWxsXCIpLnNob3coNTAwKTtcclxuICAgICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImRpYWxvZy1vcGVuXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiLnJlbG9naW4tYWxsXCIpLmhpZGUoNTAwKTtcclxuICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImRpYWxvZy1vcGVuXCIpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgZ19XaW5kb3dTY3JvbGxUb3AgPSAwO1xyXG52YXIgZ19JZnJhbWVDb250ZW50TG9hZGVkID0gZmFsc2U7XHJcbnZhciBnX0lmcmFtZUNvbnRlbnRIZWlnaHQgPSAwO1xyXG52YXIgZ19TaG93SGlkZUZyZWVDb3Vyc2UgPSBmdW5jdGlvbiAoc2hvdykge1xyXG4gICAgZ19TaG93SGlkZURpYWxvZyhcImZyZWUtYWxsXCIsIFwiaWZyYW1lRW5yb2xsXCIsIHNob3cpO1xyXG4gICAgLy9pZiAoc2hvdykge1xyXG4gICAgLy8gICAgaWYgKGlzSU9TKSBnX0xhc3RTY3JvbGxUb3AgPSBnX1dpbmRvd1Njcm9sbFRvcDtcclxuICAgIC8vICAgICQoXCIuZnJlZS1hbGxcIikuZmFkZUluKDI1MCk7XHJcbiAgICAvLyAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImRpYWxvZy1vcGVuXCIpO1xyXG4gICAgLy8gICAgZ19TZXRJZnJhbWVMb2FkRXZlbnQoXCJpZnJhbWVFbnJvbGxcIiwgdHJ1ZSk7XHJcbiAgICAvLyAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIFtcImlmcmFtZUVucm9sbFwiXSwgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgLy8gICAgJCh3aW5kb3cpLm9uKCdvcmllbnRhdGlvbmNoYW5nZScsIFtcImlmcmFtZUVucm9sbFwiXSwgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgLy8gICAgLy9pZiAoaXNJT1MpICQod2luZG93KS5vbignc2Nyb2xsJywgW1wiaWZyYW1lRW5yb2xsXCJdLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICAvL30gZWxzZSB7XHJcbiAgICAvLyAgICBnX0lmcmFtZUNvbnRlbnRMb2FkZWQgPSBmYWxzZTtcclxuICAgIC8vICAgIGdfU2V0SWZyYW1lTG9hZEV2ZW50KFwiaWZyYW1lRW5yb2xsXCIsIGZhbHNlKTtcclxuICAgIC8vICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZScsIGdfU2V0RGlsb2dQb3NBbmRTaXplKTtcclxuICAgIC8vICAgICQod2luZG93KS5vZmYoJ29yaWVudGF0aW9uY2hhbmdlJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgLy8gICAgJChcIi5mcmVlLWFsbFwiKS5mYWRlT3V0KDI1MCk7XHJcbiAgICAvLyAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImRpYWxvZy1vcGVuXCIpO1xyXG4gICAgLy8gICAgaWYgKGlzSU9TKSB7XHJcbiAgICAvLyAgICAgICAgJCh3aW5kb3cpLm9mZignc2Nyb2xsJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgLy8gICAgICAgICQoJ2h0bWwsIGJvZHknKS5zY3JvbGxUb3AoZ19MYXN0U2Nyb2xsVG9wKTtcclxuICAgIC8vICAgIH1cclxuICAgIC8vfVxyXG59O1xyXG52YXIgZ19TaG93SGlkZURpYWxvZyA9IGZ1bmN0aW9uIChjbGFzc25hbWUsIGZpZCwgc2hvdykge1xyXG4gICAgaWYgKGNsYXNzbmFtZS5pbmRleE9mKCcuJykgIT0gMCkgY2xhc3NuYW1lID0gXCIuXCIgKyBjbGFzc25hbWU7XHJcbiAgICBpZiAoc2hvdykge1xyXG4gICAgICAgIC8vaWYgKGlzSU9TKVxyXG4gICAgICAgIGdfTGFzdFNjcm9sbFRvcCA9IGdfV2luZG93U2Nyb2xsVG9wO1xyXG4gICAgICAgICQoY2xhc3NuYW1lKS5mYWRlSW4oMjUwKTtcclxuICAgICAgICBpZiAoaXNJT1MpICQubG9ja2JvZHkoKTtcclxuICAgICAgICBlbHNlICQoXCJib2R5XCIpLmFkZENsYXNzKFwiZGlhbG9nLW9wZW5cIik7XHJcbiAgICAgICAgZ19TZXRJZnJhbWVMb2FkRXZlbnQoZmlkLCB0cnVlKTtcclxuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIFtmaWRdLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdvcmllbnRhdGlvbmNoYW5nZScsIFtmaWRdLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICAgICAgLy9pZiAoaXNJT1MpICQod2luZG93KS5vbignc2Nyb2xsJywgW1wiaWZyYW1lRW5yb2xsXCJdLCBnX1NldERpbG9nUG9zQW5kU2l6ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJyMnICsgZmlkKS5jc3MoXCJoZWlnaHRcIiwgXCJcIik7XHJcbiAgICAgICAgZ19JZnJhbWVDb250ZW50TG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgZ19TZXRJZnJhbWVMb2FkRXZlbnQoZmlkLCBmYWxzZSk7XHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgICQod2luZG93KS5vZmYoJ29yaWVudGF0aW9uY2hhbmdlJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgIGlmIChpc0lPUykgJC51bmxvY2tCb2R5KCk7XHJcbiAgICAgICAgZWxzZSAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImRpYWxvZy1vcGVuXCIpO1xyXG4gICAgICAgICQoY2xhc3NuYW1lKS5mYWRlT3V0KDI1MCk7XHJcbiAgICAgICAgaWYgKGlzSU9TKSB7XHJcbiAgICAgICAgICAgIC8vJCh3aW5kb3cpLm9mZignc2Nyb2xsJywgZ19TZXREaWxvZ1Bvc0FuZFNpemUpO1xyXG4gICAgICAgICAgICAkKCdodG1sLCBib2R5Jykuc2Nyb2xsVG9wKGdfTGFzdFNjcm9sbFRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciBnX0hpZGVIYW1idXJnZXJNZW51ID0gZnVuY3Rpb24gKGlzU3R1TWVudSkge1xyXG4gICAgaWYgKGdfR2V0V2luZG93V2RpdGgoKSA8IDc2OCAmJiAhaXNTdHVNZW51KSByZXR1cm47XHJcbiAgICB2YXIgYnRuID0gJCgnLm5hdmJhci10b2dnbGVbZGF0YS10b2dnbGU9Y29sbGFwc2VdJylbMF07XHJcbiAgICBpZiAoYnRuLmF0dHJpYnV0ZXNbXCJhcmlhLWV4cGFuZGVkXCJdLnZhbHVlID09IFwidHJ1ZVwiKSBidG4uY2xpY2soKTtcclxufTtcclxudmFyIGdfSGlkZUZyZWVGb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGdfSXNGcmVlRm9ybU9wZW4pIGdfU2hvd0ZyZWVGb3JtKCk7XHJcbn07XHJcbnZhciBnX1NldEJvZHlTY3JvbGxCeUhhbWJ1Z2VyTWVtdSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBidG4gPSAkKCcubmF2YmFyLXRvZ2dsZVtkYXRhLXRvZ2dsZT1jb2xsYXBzZV0nKVswXTtcclxuICAgIGlmIChidG4uYXR0cmlidXRlc1tcImFyaWEtZXhwYW5kZWRcIl0udmFsdWUgPT0gXCJ0cnVlXCIpICQoXCJib2R5XCIpLmFkZENsYXNzKFwiZGlhbG9nLW9wZW5cIik7XHJcbiAgICBlbHNlICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiZGlhbG9nLW9wZW5cIik7XHJcbn07XHJcbnZhciBnX1NldElmcmFtZUhlaWdodCA9IGZ1bmN0aW9uIChmaWQsIGhlaWdodCkge1xyXG4gICAgZ19JZnJhbWVDb250ZW50TG9hZGVkID0gdHJ1ZTtcclxuICAgIGdfSWZyYW1lQ29udGVudEhlaWdodCA9IGhlaWdodDtcclxuICAgIGdfU2V0RGlsb2dQb3NBbmRTaXplKFtmaWRdKTtcclxufTtcclxudmFyIGdfU2V0RGlsb2dQb3NBbmRTaXplID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIHZhciB2YWwsIHRvcDEsIHRvcDI7XHJcbiAgICBpZiAodHlwZW9mIChkYXRhWzBdKSA9PSBcInVuZGVmaW5lZFwiKSB2YWwgPSBkYXRhLmRhdGE7XHJcbiAgICBlbHNlIHZhbCA9IGRhdGE7XHJcbiAgICB2YXIgZnJhbWUgPSAkKCcjJyArIHZhbFswXSk7XHJcbiAgICB2YXIgaDEgPSBoMiA9IGdfR2V0V2luZG93c0hlaWdodCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBnX0lmcmFtZUNvbnRlbnRIZWlnaHQgPSAkKGZyYW1lLmdldCgwKS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkpLm91dGVySGVpZ2h0KCkgKyAyO1xyXG4gICAgICAgICQoZnJhbWUpLmNzcyhcImhlaWdodFwiLCBcIlwiKTtcclxuICAgIH0gY2F0Y2ggKGUpIHsgfVxyXG4gICAgdmFyIGJveCA9IGZyYW1lLmNsb3Nlc3QoJy5sb2dpbi1ib3gnKTtcclxuICAgIGlmIChib3gubGVuZ3RoID09IDApIGJveCA9IGZyYW1lLmNsb3Nlc3QoJy5zdC10cGJveCcpO1xyXG4gICAgaWYgKGJveC5sZW5ndGggPT0gMCkgYm94ID0gZnJhbWUuY2xvc2VzdCgnLnN0LWxyYm94Jyk7XHJcbiAgICBpZiAoYm94Lmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdG9wMSA9IGJveC5wb3NpdGlvbigpLnRvcDtcclxuICAgICAgICB0b3AyID0gZnJhbWUucGFyZW50KCkucG9zaXRpb24oKS50b3A7XHJcbiAgICAgICAgaWYgKGgxIDw9IDc2OCkge1xyXG4gICAgICAgICAgICB0b3AxID0gMjA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdG9wMSA9IDUwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBoMiA9IGgxIC0gdG9wMSAqIDIgLSB0b3AyICogMjtcclxuICAgICAgICBpZiAoaDIgPiBnX0lmcmFtZUNvbnRlbnRIZWlnaHQpIHtcclxuICAgICAgICAgICAgaDIgPSBnX0lmcmFtZUNvbnRlbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRvcDEgPSBNYXRoLmZsb29yKChoMSAtIGgyIC0gdG9wMiAtIDUwKSAvIDIpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYm94ID0gZnJhbWUuY2xvc2VzdCgnLnN0LWNmYm94Jyk7XHJcbiAgICAgICAgdG9wMSA9IGJveC5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgdG9wMiA9IGZyYW1lLm9mZnNldCgpLnRvcDtcclxuICAgICAgICB0b3AyID0gdG9wMiAtIHRvcDE7XHJcbiAgICAgICAgdG9wMSA9IGJveC5wb3NpdGlvbigpLnRvcDtcclxuICAgICAgICBpZiAoaDEgPCA0ODApIHtcclxuICAgICAgICAgICAgdG9wMSA9IDIwO1xyXG4gICAgICAgICAgICBoMiA9IGgxIC0gdG9wMSAqIDIgLSB0b3AyIC0gMjg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaDIgPSBoMSAtIHRvcDEgKiAyIC0gdG9wMiAtIDI0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaDIgPiBnX0lmcmFtZUNvbnRlbnRIZWlnaHQpIHtcclxuICAgICAgICAgICAgaDIgPSBnX0lmcmFtZUNvbnRlbnRIZWlnaHQgKyAyO1xyXG4gICAgICAgICAgICB0b3AxID0gTWF0aC5mbG9vcigoaDEgLSBoMiAtIHRvcDIgLSB0b3AxKSAvIDIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGJveC5jc3MoXCJ0b3BcIiwgdG9wMSArIFwicHhcIikuY3NzKFwibWFyZ2luLWJvdHRvbVwiLCB0b3AxICsgXCJweFwiKTtcclxuICAgIGlmIChpc0lPUykge1xyXG4gICAgICAgIC8vaDIgKz0gdG9wMSAqIDIgKyB0b3AyICogMjtcclxuICAgICAgICB2YXIgZGlsb2cgPSBmcmFtZS5jbG9zZXN0KCcucG9wdXAtYm94IC5sb2dpbi1ncm91cCcpOy8vJCgnLnBvcHVwLWJveCAubG9naW4tZ3JvdXAnKTtcclxuICAgICAgICBkaWxvZy5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIikuY3NzKFwiLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmdcIiwgXCJ0b3VjaFwiKS5jc3MoXCJoZWlnaHRcIiwgaDIgKyBcInB4XCIpLmNzcyhcIm92ZXJmbG93XCIsIFwiYXV0b1wiKTtcclxuICAgICAgICAvL2RpbG9nLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKS5jc3MoXCJoZWlnaHRcIiwgaDIgKyBcInB4XCIpLmNzcyhcIm92ZXJmbG93XCIsIFwiYXV0b1wiKTtcclxuICAgICAgICAvL2FsZXJ0KGgxICsgXCIsXCIgKyBoMiArIFwiLFwiICsgZnJhbWUuaGVpZ2h0KCkgKyBcIixcIiArIGdfSWZyYW1lQ29udGVudEhlaWdodCArIFwiLFwiICsgZGlsb2cuaGVpZ2h0KCkpO1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5zY3JvbGxUb3AoMCk7XHJcbiAgICAgICAgLy9kaWxvZy5jc3MoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpLmNzcyhcImhlaWdodFwiLCAoJCh3aW5kb3cpLmhlaWdodCgpICsgNjApICsgXCJweFwiKS5jc3MoXCJ0b3BcIiwgXCIwcHhcIik7XHJcbiAgICAgICAgLy9kaWxvZy5jc3MoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpLmNzcyhcImhlaWdodFwiLCBcImF1dG9cIikuY3NzKFwidG9wXCIsIFwiMHB4XCIpO1xyXG4gICAgICAgIGZyYW1lLmNzcyhcImhlaWdodFwiLCBnX0lmcmFtZUNvbnRlbnRIZWlnaHQgKyBcInB4XCIpLmNzcyhcIm92ZXJmbG93XCIsIFwiYXV0b1wiKS5jc3MoXCItd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZ1wiLCBcInRvdWNoXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmcmFtZS5jc3MoXCJoZWlnaHRcIiwgaDIgKyBcInB4XCIpLmNzcyhcIm92ZXJmbG93XCIsIFwiYXV0b1wiKS5jc3MoXCItd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZ1wiLCBcInRvdWNoXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgKGZyYW1lLmdldCgwKS5jb250ZW50V2luZG93LmdfU2Nyb2xsVG9Gb2N1c09iaikgIT0gXCJ1bmRlZmluZWRcIiAmJiAhaXNJT1MpIHtcclxuICAgICAgICBmcmFtZS5nZXQoMCkuY29udGVudFdpbmRvdy5nX1Njcm9sbFRvRm9jdXNPYmooKTtcclxuICAgIH1cclxufTtcclxudmFyIGdfU2Nyb2xsVG9Gb2N1c09iaiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKCc6Zm9jdXMnKS5sZW5ndGggPT0gMCkgcmV0dXJuO1xyXG4gICAgdmFyIG9iaiA9ICQoJzpmb2N1cycpWzBdO1xyXG4gICAgb2JqLmZvY3VzKCk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9iai5pZCkuc2Nyb2xsSW50b1ZpZXcodHJ1ZSk7XHJcbiAgICB9IGNhdGNoIChlKSB7IH1cclxufTtcclxudmFyIGdfQ2hlY2tEYXRlRm9ybWF0RXggPSBmdW5jdGlvbiAob2JqLCBmaXhtc2cpIHtcclxuICAgIHZhciBzdHJWYWx1ZSA9IG9iai52YWwoKSwgbSwgZDtcclxuICAgIGlmIChvYmoudmFsdWUgIT0gXCJcIikge1xyXG4gICAgICAgIGlmICgoc3RyVmFsdWUubGVuZ3RoID4gMTApIHx8IChzdHJWYWx1ZS5sZW5ndGggPCA4KSkge1xyXG4gICAgICAgICAgICBhbGVydCgoZml4bXNnID09IFwiXCIgPyBcIuaXpeacn1wiIDogZml4bXNnKSArIFwi5qC85byP6Yyv6KqkLi4uXCIpO1xyXG4gICAgICAgICAgICBvYmoudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICBvYmouZm9jdXMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RyVmFsdWUubGVuZ3RoID09IDgpIHtcclxuICAgICAgICAgICAgc3RyViA9IHN0clZhbHVlLnN1YnN0cmluZygwLCA0KSArIFwiL1wiICsgc3RyVmFsdWUuc3Vic3RyaW5nKDQsIDYpICsgXCIvXCIgKyBzdHJWYWx1ZS5zdWJzdHJpbmcoNiwgOCk7XHJcbiAgICAgICAgICAgIHN0clZhbHVlID0gc3RyVjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9ialJlZ0V4cCA9IC9eXFxkezR9KFxcLXxcXC98XFwuKVxcZHsxLDJ9XFwxXFxkezEsMn0kLztcclxuICAgICAgICBpZiAoIW9ialJlZ0V4cC50ZXN0KHN0clZhbHVlKSk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBhcnJheURhdGUgPSBzdHJWYWx1ZS5zcGxpdChSZWdFeHAuJDEpO1xyXG4gICAgICAgICAgICB2YXIgaW50RGF5ID0gcGFyc2VJbnQoYXJyYXlEYXRlWzJdLCAxMCk7XHJcbiAgICAgICAgICAgIHZhciBpbnRZZWFyID0gcGFyc2VJbnQoYXJyYXlEYXRlWzBdLCAxMCk7XHJcbiAgICAgICAgICAgIHZhciBpbnRNb250aCA9IHBhcnNlSW50KGFycmF5RGF0ZVsxXSwgMTApO1xyXG4gICAgICAgICAgICBpZiAoaW50TW9udGggPiAxMiB8fCBpbnRNb250aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KChmaXhtc2cgPT0gXCJcIiA/IFwi5pel5pyfXCIgOiBmaXhtc2cpICsgXCLkuI3lkIjms5UuLi5cIik7XHJcbiAgICAgICAgICAgICAgICBvYmoudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgb2JqLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGFycmF5TG9va3VwID0ge1xyXG4gICAgICAgICAgICAgICAgJzEnOiAzMSxcclxuICAgICAgICAgICAgICAgICczJzogMzEsXHJcbiAgICAgICAgICAgICAgICAnNCc6IDMwLFxyXG4gICAgICAgICAgICAgICAgJzUnOiAzMSxcclxuICAgICAgICAgICAgICAgICc2JzogMzAsXHJcbiAgICAgICAgICAgICAgICAnNyc6IDMxLFxyXG4gICAgICAgICAgICAgICAgJzgnOiAzMSxcclxuICAgICAgICAgICAgICAgICc5JzogMzAsXHJcbiAgICAgICAgICAgICAgICAnMTAnOiAzMSxcclxuICAgICAgICAgICAgICAgICcxMSc6IDMwLFxyXG4gICAgICAgICAgICAgICAgJzEyJzogMzFcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGFycmF5TG9va3VwW2ludE1vbnRoXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50RGF5IDw9IGFycmF5TG9va3VwW2ludE1vbnRoXSAmJiBpbnREYXkgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG0gPSBpbnRNb250aC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtLmxlbmd0aCA9PSAxKSBpbnRNb250aCA9IFwiMFwiICsgbTtcclxuICAgICAgICAgICAgICAgICAgICBkID0gaW50RGF5LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQubGVuZ3RoID09IDEpIGludERheSA9IFwiMFwiICsgZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyT2sgPSBpbnRZZWFyLnRvU3RyaW5nKCkgKyBcIi9cIiArIGludE1vbnRoLnRvU3RyaW5nKCkgKyBcIi9cIiArIGludERheS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai52YWx1ZSA9IHN0ck9rO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnRNb250aCAtIDIgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvb0xlYXBZZWFyID0gKGludFllYXIgJSA0ID09IDAgJiYgKGludFllYXIgJSAxMDAgIT0gMCB8fCBpbnRZZWFyICUgNDAwID09IDApKTtcclxuICAgICAgICAgICAgICAgIGlmICgoKGJvb0xlYXBZZWFyICYmIGludERheSA8PSAyOSkgfHwgKCFib29MZWFwWWVhciAmJiBpbnREYXkgPD0gMjgpKSAmJiBpbnREYXkgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG0gPSBpbnRNb250aC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtLmxlbmd0aCA9PSAxKSBpbnRNb250aCA9IFwiMFwiICsgbTtcclxuICAgICAgICAgICAgICAgICAgICBkID0gaW50RGF5LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQubGVuZ3RoID09IDEpIGludERheSA9IFwiMFwiICsgZDtcclxuICAgICAgICAgICAgICAgICAgICBzdHJPayA9IGludFllYXIudG9TdHJpbmcoKSArIFwiL1wiICsgaW50TW9udGgudG9TdHJpbmcoKSArIFwiL1wiICsgaW50RGF5LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLnZhbHVlID0gc3RyT2s7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgb2JqLnZhbHVlID0gXCJcIjtcclxuICAgICAgICBhbGVydCgoZml4bXNnID09IFwiXCIgPyBcIuaXpeacn1wiIDogZml4bXNnKSArIFwi5qC85byP6Yyv6KqkLi4uXCIpO1xyXG4gICAgICAgIG9iai5mb2N1cygpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xyXG52YXIgZ19TZXRDb29raWUgPSBmdW5jdGlvbiAoY2tOYW1lLCB2YWx1ZSwgZGF5cykge1xyXG4gICAgYURheSA9IG5ldyBEYXRlKCk7XHJcbiAgICBhRGF5LnNldFRpbWUoYURheS5nZXRUaW1lKCkgKyAoZGF5cyAqIDEwMDAgKiA2MCAqIDYwICogMjQpKTtcclxuICAgIGV4cERheSA9IGFEYXkudG9HTVRTdHJpbmcoKTtcclxuICAgIGRvY3VtZW50LmNvb2tpZSA9IGNrTmFtZSArIFwiPVwiICsgZXNjYXBlKHZhbHVlKSArIFwiO2V4cGlyZXM9XCIgKyBleHBEYXkgKyBcIjtwYXRoPS9cIjtcclxufTtcclxudmFyIGdfRGVsQ29va2llID0gZnVuY3Rpb24gKGNrTmFtZSkge1xyXG4gICAgZG9jdW1lbnQuY29va2llID0gY2tOYW1lICsgXCI9O2V4cGlyZXM9TW9uLDAyLU9jdC0yOCAwMDowMDowMSBHTVRcIjtcclxufTtcclxudmFyIGdfR2V0Q29va2llID0gZnVuY3Rpb24gKGNrTmFtZSkge1xyXG4gICAgdmFyIHJlc3VsdHMgPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cChcIihefDspID9cIiArIGNrTmFtZSArIFwiPShbXjtdKikoO3wkKVwiKSk7XHJcbiAgICBpZiAocmVzdWx0cykgcmV0dXJuICh1bmVzY2FwZShyZXN1bHRzWzJdKSk7XHJcbiAgICBlbHNlIHJldHVybiBcIlwiO1xyXG59O1xyXG5cclxuLy/poJDovInlnJbniYdcclxudmFyIE1NX3ByZWxvYWRJbWFnZXMgPSBmdW5jdGlvbiAoKSB7IC8vdjMuMFxyXG4gICAgdmFyIGQgPSBkb2N1bWVudDsgaWYgKGQuaW1hZ2VzKSB7XHJcbiAgICAgICAgaWYgKCFkLk1NX3ApIGQuTU1fcCA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHZhciBpLCBqID0gZC5NTV9wLmxlbmd0aCwgYSA9IE1NX3ByZWxvYWRJbWFnZXMuYXJndW1lbnRzOyBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgaWYgKGFbaV0uaW5kZXhPZihcIiNcIikgIT0gMCkgeyBkLk1NX3Bbal0gPSBuZXcgSW1hZ2U7IGQuTU1fcFtqKytdLnNyYyA9IGFbaV07IH1cclxuICAgIH1cclxufTtcclxuXHJcbnZhciBnX0xvZ291dCA9IGZ1bmN0aW9uICgpIHsgfTtcclxudmFyIGdfRmJTdGF0dXMgPSBcIlwiO1xyXG52YXIgZ19GYkxvZ291dCA9IGZ1bmN0aW9uIChub3RyZWxvYWQpIHtcclxuICAgIHZhciBsb2dvdXQgPSBmYWxzZTtcclxuICAgIEZCLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiY29ubmVjdGVkXCIpIHtcclxuICAgICAgICAgICAgRkIubG9nb3V0KGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGQueZu+WHuuaIkOWKny4uLlwiKTtcclxuICAgICAgICAgICAgICAgIGlmICghbm90cmVsb2FkKSB0b3AubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIGlmICghbm90cmVsb2FkKSB0b3AubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9KVxyXG59O1xyXG52YXIgZ19Jc0ZiTG9naW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBGQi5nZXRMb2dpblN0YXR1cyhmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSBcImNvbm5lY3RlZFwiKSB7XHJcbiAgICAgICAgICAgICQucG9zdChcIndzX3NpdGVkYXRhcHJvdmlkZXIuYXNteC9GYkxvZ2luXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBtcEFjY2Vzc1Rva2VuOiByZXNwb25zZS5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW5cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5maXJzdENoaWxkLmlubmVySFRNTCA9PSBcInRydWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnX0ZiU3RhdHVzID0gXCJsb2dpblwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdfRmJTdGF0dXMgPSBcIm5vbG9naW5cIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgIGdfRmJTdGF0dXMgPSBcIm5vbG9naW5cIjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBnX0ZiU3RhdHVzID0gXCJub2xvZ2luXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufTtcclxudmFyIGdfRmJMb2dpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIEZCLmxvZ2luKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnY29ubmVjdGVkJykge1xyXG4gICAgICAgICAgICAgICAgJC5wb3N0KFwid3Nfc2l0ZWRhdGFwcm92aWRlci5hc214L0ZiTG9naW5cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtcEFjY2Vzc1Rva2VuOiByZXNwb25zZS5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5maXJzdENoaWxkLmlubmVySFRNTCA9PSBcInRydWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLnmbvlhaXmiJDlip8uLi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZ19TaG93SGlkZUxvZ2luKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3AubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIueZu+WFpeWkseaVl++8jOiri+mHjeaWsOeZu+WFpS4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yVGhyb3duLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi55m75YWl5aSx5pWX77yM6KuL56iN5b6M5YaN6KmmLi4uXCIpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdub3RfYXV0aG9yaXplZCcpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwi55m75YWl5o6I5qyK5aSx5pWXLi4uXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCLnmbvlhaXmjojmrIrlpLHmlZcuLi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc2NvcGU6ICdwdWJsaWNfcHJvZmlsZSxlbWFpbCdcclxuICAgICAgICB9KVxyXG59O1xyXG52YXIgZ19GYlJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGdfRmJTdGF0dXMgPT0gXCJsb2dpblwiKSB7XHJcbiAgICAgICAgYWxlcnQoXCLlt7LntpPoqLvlhorpgY5GQuacg+WToe+8jOebruWJjeeCukZC5pyD5ZOh55m75YWl54uA5oWLLi4uXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBGQi5sb2dpbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiY29ubmVjdGVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkLnBvc3QoXCJ3c19zaXRlZGF0YXByb3ZpZGVyLmFzbXgvRmJSZWdpc3RlclwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcEFjY2Vzc1Rva2VuOiByZXNwb25zZS5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5maXJzdENoaWxkLmlubmVySFRNTCA9PSBcIjFcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRkLmnIPlk6HoqLvlhormiJDlip8uLi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wLmxvY2F0aW9uLmFzc2lnbihcIi9wcm9maWxlLWZiLmFzcHg/bW9kZT0wI3RpdGxlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZmlyc3RDaGlsZC5pbm5lckhUTUwgPT0gXCIyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybShcIuaCqOW3sue2k+iou+WGiumBjkZC5pyD5ZOh77yM5oKo6KaB5L+u5pS55pyD5ZOh6LOH5paZ5ZeO77yfXCIpKSB0b3AubG9jYXRpb24uYXNzaWduKFwiL3Byb2ZpbGUtZmIuYXNweCN0aXRsZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHBhcmVudC5nX1Nob3dIaWRlSm9pbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRkLmnIPlk6HoqLvlhorlpLHmlZcuLi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvclRocm93bi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJGQuacg+WToeiou+WGiuWkseaVly4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdub3RfYXV0aG9yaXplZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIueZu+WFpeaOiOasiuWkseaVly4uLlwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLnmbvlhaXmjojmrIrlpLHmlZcuLi5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlOiAncHVibGljX3Byb2ZpbGUsZW1haWwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbn07XHJcbnZhciBnX0ZiQXNzb2NpYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgRkIuZ2V0TG9naW5TdGF0dXMoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gXCJjb25uZWN0ZWRcIikge1xyXG4gICAgICAgICAgICAkLnBvc3QoXCJ3c19zaXRlZGF0YXByb3ZpZGVyLmFzbXgvRmJBc3NvY2lhdGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1wQWNjZXNzVG9rZW46IHJlc3BvbnNlLmF1dGhSZXNwb25zZS5hY2Nlc3NUb2tlblxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBkYXRhLmZpcnN0Q2hpbGQuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZihcIjpcIikgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJGQumpl+itieWkseaVly4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChyZXN1bHRbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0WzBdID09IFwiMVwiIHx8IHJlc3VsdFswXSA9PSBcIi0xXCIpIHRvcC5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yVGhyb3duLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJGQumpl+itieWkseaVly4uLlwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBGQi5sb2dpbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnY29ubmVjdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLnBvc3QoXCJ3c19zaXRlZGF0YXByb3ZpZGVyLmFzbXgvRmJBc3NvY2lhdGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wQWNjZXNzVG9rZW46IHJlc3BvbnNlLmF1dGhSZXNwb25zZS5hY2Nlc3NUb2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBkYXRhLmZpcnN0Q2hpbGQuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZihcIjpcIikgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJGQumpl+itieWkseaVly4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChyZXN1bHRbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0WzBdID09IFwiMVwiIHx8IHJlc3VsdFswXSA9PSBcIi0xXCIpIHRvcC5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yVGhyb3duLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJGQumpl+itieWkseaVly4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ25vdF9hdXRob3JpemVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIueZu+WFpeaOiOasiuWkseaVly4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIueZu+WFpeaOiOasiuWkseaVly4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiAncHVibGljX3Byb2ZpbGUsZW1haWwnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcbnZhciBnX2lTY3JvbGxPYmo7XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIGdfU2hvd0hpZGVMb2FkaW5nKGZhbHNlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgJCgnaW1nW3VzZW1hcF0nKS5yd2RJbWFnZU1hcHMoKTtcclxuICAgIH0gY2F0Y2ggKGUpIHsgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICAkKCcubmF2YmFyLXRvZ2dsZScpLm9uKCdjbGljaycsIGdfSGlkZUZyZWVGb3JtKTtcclxuICAgICAgICAkKCcuZHJvcGRvd24tdG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBnX0hpZGVIYW1idXJnZXJNZW51KCk7XHJcbiAgICAgICAgICAgIGdfSGlkZUZyZWVGb3JtKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlKSB7IH1cclxufSk7XHJcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgZ19XaW5kb3dTY3JvbGxUb3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xyXG4gICAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAxMDI0KSB7XHJcbiAgICAgICAgJCgnLmdvdG9wJykuc2hvdygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcuZ290b3AnKS5oaWRlKCk7XHJcbiAgICB9XHJcbn0pOyIsIi8vIOWwjuimveWIl+WIneWni+WMllxyXG5cclxuJChmdW5jdGlvbigpIHtcclxuICAgIHZhciB0ZXN0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAkKCcuZHJvcGRvd24tYmFzZScpLm9uKCdtb3VzZWVudGVyIGNsaWNrJywgZnVuY3Rpb24gKCkgeyAvLyBtb3VzZWVudGVyXHJcbiAgICAgICAgdmFyIHcxPWdfR2V0V2luZG93V2RpdGgoKTtcclxuICAgICAgICBpZiggdzEgPiA3Njgpe1xyXG4gICAgICAgICAgICBpZiAoaXNNb2JpbGUgJiYgIWlzSU9TICYmIHRlc3RpbmcpIHsgLy8gZm9yIGFuZHJvaWRcclxuICAgICAgICAgICAgICAgICQoJy5kcm9wZG93bi1iYXNlJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgICQoJy5kcm9wZG93bi1tZW51JykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmRyb3Bkb3duLXRvZ2dsZScsICQodGhpcykpLmRyb3Bkb3duKCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNb2JpbGUgJiYgIWlzSU9TICYmIHRlc3RpbmcpIHsgLy8gZm9yIGFuZHJvaWRcclxuICAgICAgICAgICAgICAgICAgICAkKCcuZHJvcGRvd24tbWVudScsICQodGhpcykpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSkubW91c2VsZWF2ZShmdW5jdGlvbiAoKSB7IC8vIG1vdXNlbGVhdmUsICBETyBOT1QgVVNFIG1vdXNlb3V0XHJcbiAgICAgICAgdmFyIHcxPWdfR2V0V2luZG93V2RpdGgoKTtcclxuICAgICAgICBpZiggdzEgPiA3Njgpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLmJsdXIoKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICBpZiAoaXNNb2JpbGUgJiYgIWlzSU9TICYmIHRlc3RpbmcpIHsgLy8gZm9yIGFuZHJvaWRcclxuICAgICAgICAgICAgICAgICQoJy5kcm9wZG93bi1iYXNlJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgIC8vJCgnLmRyb3Bkb3duLW1lbnUnLCAkKHRoaXMpKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmRyb3Bkb3duLW1lbnUnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI2xvZ2luQnRuJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBnX1Nob3dIaWRlTG9naW4odHJ1ZSk7XHJcbiAgICB9KTtcclxuICAgICQoJyNqb2luQnRuJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBnX1Nob3dIaWRlSm9pbih0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8v6Kit5a6aTE9HT+WcluekulxyXG4gICAgdmFyIGluaXRMb2dvID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHcxPWdfR2V0V2luZG93V2RpdGgoKTtcclxuICAgICAgICBpZih3MSA8PSAzNjEpIHtcclxuICAgICAgICAgICAgJChcIi5sb2dvXCIpLmF0dHIoXCJzcmNcIiwgXCJidWlsZC9pbWFnZXMvbG9nbzFfcy5wbmdcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChcIi5sb2dvXCIpLmF0dHIoXCJzcmNcIiwgXCJidWlsZC9pbWFnZXMvbG9nbzEucG5nXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih3MSA8IDkyMSApIHtcclxuICAgICAgICAgICAgJCgnLmRyb3Bkb3duLW1lbnVbYXJpYS1sYWJlbGxlZGJ5PWxtZW51MDVdJykuYWRkQ2xhc3MoXCJkcm9wZG93bi1tZW51LXJpZ2h0XCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJy5kcm9wZG93bi1tZW51W2FyaWEtbGFiZWxsZWRieT1sbWVudTA1XScpLnJlbW92ZUNsYXNzKFwiZHJvcGRvd24tbWVudS1yaWdodFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGluaXRMb2dvKCk7XHJcbiAgICAkKHdpbmRvdykuYmluZChcImxvYWRcIiwgaW5pdExvZ28pO1xyXG4gICAgJCh3aW5kb3cpLmJpbmQoXCJyZXNpemVcIiwgaW5pdExvZ28pO1xyXG4gICAgJCh3aW5kb3cpLmJpbmQoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBpbml0TG9nbyk7XHJcbn0pOyJdfQ==
